!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).FormValidation=e.FormValidation||{})}(this,(function(e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(){return(r=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function n(e,r,n,t){return new(n||(n=Promise))((function(o,a){function i(e){try{u(t.next(e))}catch(e){a(e)}}function c(e){try{u(t.throw(e))}catch(e){a(e)}}function u(e){var r;e.done?o(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,c)}u((t=t.apply(e,r||[])).next())}))}function t(e,r){var n,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=r.call(e,i)}catch(e){a=[6,e],t=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function o(e){return Object.prototype.toString.call(e)}function a(e){return"[object Object]"===o(e)}function i(e){return"[object Array]"===o(e)}function c(e){return"function"==typeof e}function u(e){return null!==e&&"object"==typeof e&&c(e.then)}function l(e,r){if(0===r.length)return e;var n=e;return r.slice(0,-1).forEach((function(e){n=n[e]})),n[r[r.length-1]]}function s(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r]}var f="__form_validation__",v="__form_validation_reactive",d=function(e,r,n){var t;(a(e)||i(e))&&Object.defineProperty(e,v,{enumerable:!1,configurable:!0,value:e}),(a(r)||i(r))&&(Object.defineProperty(r,v,{enumerable:!1,configurable:!0,value:r}),Object.defineProperty(r,f,{enumerable:!1,configurable:!0,value:r[f]||(t={},t.path=n,t)}),Object.defineProperty(r,"$v",{enumerable:!1,configurable:!0,value:r.$v||{}}))},$=function(e){var r=e.object,n=e.clone,t=e.path,o=void 0===t?[]:t,c=e.wrap,u=void 0===c?d:c,l=e.callback,s=void 0===l?function(){}:l;if(u(r,n,o),(a(n)||i(n))&&s(n),!1===a(r)&&!1===i(r))return r;for(var f=0,v=Object.keys(r);f<v.length;f++){var p=v[f];Reflect.set(n,p,n[p]||(i(r[p])?[]:{})),Reflect.set(r,p,$({object:r[p],clone:n[p],path:o.concat(p),wrap:u,callback:s}))}return new Proxy(r,{deleteProperty:function(e,r){return Reflect.deleteProperty(n,r),Reflect.deleteProperty(e,r)},set:function(e,r,t){var a=Reflect.set(e,r,t);return!1===function(e,r){return e.hasOwnProperty(r)}(e,r)?a:(Reflect.set(n,r,n[r]||(i(t)?[]:{})),Reflect.set(e,r,$({object:t,clone:n[r],path:o.concat(r),wrap:u,callback:s})))}})};var p=function(e){return function(r){e[f].validated=r}},h=function(e){return function(r){e[f].invalid=r,j(e),P(e),k(e)}},y=function(e){return function(r){e[f].dirty=r,w(e),O(e),P(e),k(e)}},m=function(e){return function(r){e[f].pending+=!0===r?1:-1,g(e),j(e),P(e),k(e)}},b=function(e){return function(){e[f].pending=0,g(e),j(e),P(e),k(e)}},g=function(e){e.$v.pending=0!==e[f].pending||_(e).some((function(e){return e.$v.pending}))},j=function(e){e.$v.invalid=e[f].invalid&&0===e[f].pending||_(e).some((function(e){return e.$v.invalid}))},w=function(e){e.$v.dirty=e[f].dirty||0!==_(e).length&&_(e).every((function(e){return e.$v.dirty}))},O=function(e){e.$v.anyDirty=e[f].dirty||_(e).some((function(e){return e.$v.anyDirty}))},P=function(e){e.$v.error=e[f].dirty&&e[f].invalid&&0===e[f].pending},k=function(e){e.$v.anyError=e[f].dirty&&e[f].invalid&&0===e[f].pending||_(e).some((function(e){return e.$v.anyError}))},_=function(e){return Object.keys(e).filter((function(e){return e!==f&&"$v"!==e})).map((function(r){return e[r]}))},x=function(e,o){var a=o[f].schema,i=null;o.$v.validate=function(){o[f].setValidated(!0),o[f].setInvalid(!1),o[f].resetPending(),o.$v.errors={},i=null;for(var c=function(e){for(var o,a,i=e.rootForm,c=e.validator,s=r(((o={}).$rules={},o),c[f].schema.$params),v=c[f].schema.$normalizer,d=c[f].schema.$rules,$=c[f].schema.$errors,p=i,h=c[f].path,y=0===h.length?void 0:l(i,h.slice(0,-1)),m=0===h.length?void 0:h[h.length-1],b=v({value:0===h.length?i:l(i,h),key:m,parent:y,path:h,root:p,params:s}),g=((a={}).$rules={},a),j=function(e){var r={value:b,key:m,parent:y,path:h,root:p,params:s},o=d[e](r);g.$rules[e]=o,r.params.$rules[e]=o,g[e]=void 0,u(o)?o.finally((function(){return n(void 0,void 0,void 0,(function(){return t(this,(function(n){switch(n.label){case 0:return[4,o];case 1:return void 0!==n.sent()&&(g[e]=$[e](r)),[2]}}))}))})):void 0!==o&&(g[e]=$[e](r))},w=0,O=Object.keys(d);w<O.length;w++){j(O[w])}return g}({rootForm:e,validator:o}),s=function(e){u(c.$rules[e])?(o[f].setPending(!0),c.$rules[e].finally((function(){return n(void 0,void 0,void 0,(function(){var r,n;return t(this,(function(t){switch(t.label){case 0:return i!==c.$rules?[2]:[4,c.$rules[e]];case 1:return void 0===t.sent()?[3,3]:(o[f].setInvalid(!0),r=o.$v.errors,n=e,[4,c[e]]);case 2:r[n]=t.sent(),t.label=3;case 3:return o[f].setPending(!1),[2]}}))}))}))):void 0!==c.$rules[e]&&(o[f].setInvalid(!0),o.$v.errors[e]=c[e])},v=0,d=Object.keys(a.$rules);v<d.length;v++){s(d[v])}i=c.$rules;for(var $=0,p=Object.keys(o).filter((function(e){return"$v"!==e&&e!==f}));$<p.length;$++){var h=p[$];o[h].$v.validate()}},o.$v.reset=function(){o[f].setValidated(!1),o[f].setInvalid(!1),o[f].setDirty(!1),o[f].resetPending(),o.$v.errors={},i=null;for(var e=0,r=Object.keys(o).filter((function(e){return"$v"!==e&&e!==f}));e<r.length;e++){var n=r[e];o[n].$v.reset()}},o.$v.touch=function(){o[f].setDirty(!0);for(var e=0,r=Object.keys(o).filter((function(e){return"$v"!==e&&e!==f}));e<r.length;e++){var n=r[e];o[n].$v.touch()}}};e.proxy=function(e){var r=e.form,n=e.schema,t=e.validator;return $({object:r,clone:t,callback:function(e){!function(e){var r=e;void 0===r[f].invalid&&(r[f].invalid=!1,r[f].validated=!1,r[f].pending=0,r[f].dirty=!1,r[f].setValidated=p(r),r[f].setInvalid=h(r),r[f].setDirty=y(r),r[f].setPending=m(r),r[f].resetPending=b(r),r.$v.pending=!1,r.$v.invalid=!1,r.$v.dirty=!1,r.$v.anyDirty=!1,r.$v.error=!1,r.$v.anyError=!1,r.$v.errors={})}(e),function(e){var r,n=e.rootSchema,t=e.validator,o=t[f].path,i={$params:{},$normalizer:function(e){return e.value},$rules:{},$errors:{}};if(t[f].schema=t[f].schema||{},t[f].schema.$params=i.$params,t[f].schema.$normalizer=i.$normalizer,t[f].schema.$rules=i.$rules,t[f].schema.$errors=i.$errors,0!==o.length){try{r=l(n,o.slice(0,-1).concat("$iter"))}catch(e){}r&&(a(r.$params)&&(t[f].schema.$params=r.$params),c(r.$normalizer)&&(t[f].schema.$normalizer=r.$normalizer),a(r.$rules)&&(t[f].schema.$rules=r.$rules),a(r.$errors)&&(t[f].schema.$errors=r.$errors))}try{r=l(n,o)}catch(e){}for(var u in r&&(a(r.$params)&&(t[f].schema.$params=r.$params),c(r.$normalizer)&&(t[f].schema.$normalizer=r.$normalizer),a(r.$rules)&&(t[f].schema.$rules=r.$rules),a(r.$errors)&&(t[f].schema.$errors=r.$errors)),t[f].schema.$rules)void 0===t[f].schema.$errors[u]&&(t[f].schema.$errors[u]=s)}({rootSchema:n,validator:e}),x(r,e),e[f].validated&&e.$v.validate()}})},Object.defineProperty(e,"__esModule",{value:!0})}));
