System.register("FormValidation",[],(function(e){"use strict";return{execute:function(){
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation. All rights reserved.
            Licensed under the Apache License, Version 2.0 (the "License"); you may not use
            this file except in compliance with the License. You may obtain a copy of the
            License at http://www.apache.org/licenses/LICENSE-2.0

            THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
            KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
            WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
            MERCHANTABLITY OR NON-INFRINGEMENT.

            See the Apache Version 2.0 License for specific language governing permissions
            and limitations under the License.
            ***************************************************************************** */
var r=function(){return(r=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)};function t(e,r,t,n){return new(t||(t=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function u(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var r;e.done?a(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(i,u)}c((n=n.apply(e,r||[])).next())}))}function n(e,r){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=r.call(e,i)}catch(e){o=[6,e],n=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(e){return Object.prototype.toString.call(e)}function o(e){return"[object Object]"===a(e)}function i(e){return"[object Array]"===a(e)}function u(e){return"function"==typeof e}function c(e){return null!==e&&"object"==typeof e&&u(e.then)}function l(e,r){return e.hasOwnProperty(r)}function s(e,r){if(0===r.length)return e;var t=e;return r.slice(0,-1).forEach((function(e){t=t[e]})),t[r[r.length-1]]}function f(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r]}var v="__form_validation__",d="__form_validation_reactive",h=function(e,r,t){var n;(o(e)||i(e))&&Object.defineProperty(e,d,{enumerable:!1,configurable:!0,value:e}),(o(r)||i(r))&&(Object.defineProperty(r,d,{enumerable:!1,configurable:!0,value:r}),Object.defineProperty(r,v,{enumerable:!1,configurable:!0,value:r[v]||(n={},n.path=t,n)}),Object.defineProperty(r,"$v",{enumerable:!1,configurable:!0,value:r.$v||{}}))},p=new Set(["shift","unshift"]),$=function(e){var r=e.object,t=e.clone,n=e.path,a=void 0===n?[]:n,u=e.wrap,c=void 0===u?h:u,s=e.callback,f=void 0===s?function(){}:s;if(c(r,t,a),(o(t)||i(t))&&f(t),!1===o(r)&&!1===i(r))return r;for(var d=0,y=Object.keys(r);d<y.length;d++){var m=y[d];Reflect.set(t,m,t[m]||(i(r[m])?[]:{})),Reflect.set(r,m,$({object:r[m],clone:t[m],path:a.concat(m),wrap:c,callback:f}))}for(var m in t)!1===l(r,m)&&delete t[m];var b=null,g=0,j=[],w=[];return new Proxy(r,{deleteProperty:function(e,r){return Reflect.deleteProperty(t,r),Reflect.deleteProperty(e,r)},set:function(e,r,n){var o=Reflect.set(e,r,n);if(!1===l(e,r))return o;if(i(e)){if("length"===r){if("shift"===b){j.shift(),j.reverse(),t.length=0;for(var u=0,s=w;u<s.length;u++){var d=s[u],h=j.pop();h[v].path=h[v].path.slice(0,-1).concat(d),t[d]=h}}else if("unshift"===b){j.shift(),j.push(t[0]),j.reverse(),t.length=0;for(var y=0,m=w;y<m.length;y++){var O=m[y],P=j.pop();P[v].path=P[v].path.slice(0,-1).concat(O),t[O]=P}}for(var k in t[r]=n,b=null,t)f(t[k]);return o}p.has(b)&&/^\d+$/.test(r)&&(w.push(r),++g,t[r]=i(n)?[]:{})}return t[r]=t[r]||(i(n)?[]:{}),Reflect.set(e,r,$({object:n,clone:t[r],path:a.concat(r),wrap:c,callback:f}))},get:function(e,r){var n=Reflect.get(e,r);return i(e)&&(p.has(r)?(b=r,g=0,j.length=0,w.length=0):p.has(b)&&("length"===r?g=0:/^\d+$/.test(r)&&(j[g]=t[r]))),n}})},y=function(e){var r=e.rootSchema,t=e.validator,n=e.path,a=e.startIndex;if(a===n.length){try{var i=s(r,n);if(m(i))return o(i.$params)&&(t[v].schema.$params=i.$params),u(i.$normalizer)&&(t[v].schema.$normalizer=i.$normalizer),o(i.$rules)&&(t[v].schema.$rules=i.$rules),o(i.$errors)&&(t[v].schema.$errors=i.$errors),!0}catch(e){}return!1}if(y({rootSchema:r,validator:t,path:n,startIndex:a+1}))return!0;var c=n[a];return n[a]="$iter",!!y({rootSchema:r,validator:t,path:n,startIndex:a+1})||(n[a]=c,!1)},m=function(e){return void 0!==e&&(void 0!==e.$params||(void 0!==e.$normalizer||(void 0!==e.$rules||void 0!==e.$errors)))};var b=function(e){return function(r){e[v].validated=r}},g=function(e){return function(r){e[v].invalid=r,k(e),I(e),_(e)}},j=function(e){return function(r){e[v].dirty=r,x(e),S(e),I(e),_(e)}},w=function(e){return function(r){e[v].pending+=!0===r?1:-1,P(e),k(e),I(e),_(e)}},O=function(e){return function(){e[v].pending=0,P(e),k(e),I(e),_(e)}},P=function(e){e.$v.pending=0!==e[v].pending||z(e).some((function(e){return e.$v.pending}))},k=function(e){e.$v.invalid=e[v].invalid&&0===e[v].pending||z(e).some((function(e){return e.$v.invalid}))},x=function(e){e.$v.dirty=e[v].dirty||0!==z(e).length&&z(e).every((function(e){return e.$v.dirty}))},S=function(e){e.$v.anyDirty=e[v].dirty||z(e).some((function(e){return e.$v.anyDirty}))},I=function(e){e.$v.error=e[v].dirty&&e[v].invalid&&0===e[v].pending},_=function(e){e.$v.anyError=e[v].dirty&&e[v].invalid&&0===e[v].pending||z(e).some((function(e){return e.$v.anyError}))},z=function(e){return Object.keys(e).filter((function(e){return e!==v&&"$v"!==e})).map((function(r){return e[r]}))},R=(e("proxy",(function(e){var r=e.form,t=e.schema,n=e.validator;return $({object:r,clone:n,callback:function(e){!function(e){var r=e;void 0===r[v].invalid&&(r[v].invalid=!1,r[v].validated=!1,r[v].pending=0,r[v].dirty=!1,r[v].setValidated=b(r),r[v].setInvalid=g(r),r[v].setDirty=j(r),r[v].setPending=w(r),r[v].resetPending=O(r),r.$v.pending=!1,r.$v.invalid=!1,r.$v.dirty=!1,r.$v.anyDirty=!1,r.$v.error=!1,r.$v.anyError=!1,r.$v.errors={})}(e),function(e){var r=e.rootSchema,t=e.validator,n=t[v].path,a={$params:{},$normalizer:function(e){return e.value},$rules:{},$errors:{}};for(var o in t[v].schema=t[v].schema||{},t[v].schema.$params=a.$params,t[v].schema.$normalizer=a.$normalizer,t[v].schema.$rules=a.$rules,t[v].schema.$errors=a.$errors,y({rootSchema:r,validator:t,path:n.slice(),startIndex:0}),t[v].schema.$rules)void 0===t[v].schema.$errors[o]&&(t[v].schema.$errors[o]=f)}({rootSchema:t,validator:e}),R(r,e),e[v].validated&&e.$v.validate()}})})),function(e,a){var o=a[v].schema,i={};a.$v.validate=function(){a[v].setValidated(!0),a[v].setInvalid(!1),a[v].resetPending(),a.$v.errors={},i={};for(var u=function(e){for(var a,o,i=e.rootForm,u=e.validator,l=r(((a={}).$rules={},a),u[v].schema.$params),f=u[v].schema.$normalizer,d=u[v].schema.$rules,h=u[v].schema.$errors,p=i,$=u[v].path,y=0===$.length?void 0:s(i,$.slice(0,-1)),m=0===$.length?void 0:$[$.length-1],b=f({value:0===$.length?i:s(i,$),key:m,parent:y,path:$,root:p,params:l}),g=((o={}).$rules={},o),j=function(e){var r={value:b,key:m,parent:y,path:$,root:p,params:l},a=d[e](r);g.$rules[e]=a,r.params.$rules[e]=a,g[e]=void 0,c(a)?a.finally((function(){return t(void 0,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,a];case 1:return void 0!==t.sent()&&(g[e]=h[e](r)),[2]}}))}))})):void 0!==a&&(g[e]=h[e](r))},w=0,O=Object.keys(d);w<O.length;w++){j(O[w])}return g}({rootForm:e,validator:a}),l=function(e){c(u.$rules[e])?(a[v].setPending(!0),u.$rules[e].finally((function(){return t(void 0,void 0,void 0,(function(){var r,t;return n(this,(function(n){switch(n.label){case 0:return i!==u.$rules?[2]:[4,u.$rules[e]];case 1:return void 0===n.sent()?[3,3]:(a[v].setInvalid(!0),r=a.$v.errors,t=e,[4,u[e]]);case 2:r[t]=n.sent(),n.label=3;case 3:return a[v].setPending(!1),[2]}}))}))}))):void 0!==u.$rules[e]&&(a[v].setInvalid(!0),a.$v.errors[e]=u[e])},f=0,d=Object.keys(o.$rules);f<d.length;f++){l(d[f])}i=u.$rules;for(var h={},p=0,$=Object.keys(a).filter((function(e){return"$v"!==e&&e!==v}));p<$.length;p++){var y=$[p];h[y]=a[y].$v.validate()}return Promise.all(Object.values(i)).then((function(){return Promise.all(Object.values(h))})).then((function(){}))},a.$v.reset=function(){a[v].setValidated(!1),a[v].setInvalid(!1),a[v].setDirty(!1),a[v].resetPending(),a.$v.errors={},i={};for(var e=0,r=Object.keys(a).filter((function(e){return"$v"!==e&&e!==v}));e<r.length;e++){var t=r[e];a[t].$v.reset()}},a.$v.touch=function(){a[v].setDirty(!0);for(var e=0,r=Object.keys(a).filter((function(e){return"$v"!==e&&e!==v}));e<r.length;e++){var t=r[e];a[t].$v.touch()}}})}}}));
